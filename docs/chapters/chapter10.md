# פרק 10: אינטגרל רימן

## 10.1 אינטגרביליות לפי דרבו

### הגדרות בסיסיות

!!! info "הגדרה 10.1 (חלוקה)"
    יהי $[a,b]$ קטע. **חלוקה** של $[a,b]$ היא קבוצה $\Pi = \{x_i\}_{i=0}^n$ של נקודות המקיימות
    $$a = x_0 < x_1 < \cdots < x_n = b$$

    **פרמטר החלוקה:** $\lambda(\Pi) = \max_{0 \le i \le n-1} (x_{i+1} - x_i)$

!!! info "הגדרה 10.2 (עידון)"
    תהיינה $\Pi_1, \Pi_2$ חלוקות של $[a,b]$. נאמר כי $\Pi_2$ היא **עידון** של $\Pi_1$ כאשר $\Pi_1 \subseteq \Pi_2$.

!!! info "הגדרה 10.3 (סכומי דרבו)"
    תהי $f : [a,b] \to \mathbb{R}$ פונקציה חסומה ותהי $\Pi = \{x_i\}_{i=0}^n$ חלוקה של $[a,b]$.

    **סכום דרבו העליון:**
    $$\overline{S}(f,\Pi) = \sum_{i=0}^{n-1} \sup_{x \in [x_i,x_{i+1}]} f(x) \cdot (x_{i+1} - x_i)$$

    **סכום דרבו התחתון:**
    $$\underline{S}(f,\Pi) = \sum_{i=0}^{n-1} \inf_{x \in [x_i,x_{i+1}]} f(x) \cdot (x_{i+1} - x_i)$$

!!! success "טענה 10.4 (תכונות סכומי דרבו)"
    תהי $f : [a,b] \to \mathbb{R}$ חסומה.

    1. לכל חלוקה $\Pi$: $(b-a)\inf f \le \underline{S}(f,\Pi) \le \overline{S}(f,\Pi) \le (b-a)\sup f$
    2. אם $\Pi_2$ עידון של $\Pi_1$: $\underline{S}(f,\Pi_1) \le \underline{S}(f,\Pi_2) \le \overline{S}(f,\Pi_2) \le \overline{S}(f,\Pi_1)$
    3. לכל שתי חלוקות $\Pi_1, \Pi_2$: $\underline{S}(f,\Pi_1) \le \overline{S}(f,\Pi_2)$

---

### אינטגרל עליון ותחתון

!!! info "הגדרה 10.5 (אינטגרל עליון ותחתון)"
    תהי $f : [a,b] \to \mathbb{R}$ חסומה.

    **אינטגרל עליון:**
    $$\overline{\int_a^b} f(x)\,dx = \inf\big\{ \overline{S}(f,\Pi) : \Pi \text{ חלוקה של } [a,b] \big\}$$

    **אינטגרל תחתון:**
    $$\underline{\int_a^b} f(x)\,dx = \sup\big\{ \underline{S}(f,\Pi) : \Pi \text{ חלוקה של } [a,b] \big\}$$

!!! note "הערה 10.6"
    לכל $f$ חסומה: $\underline{\int_a^b} f \le \overline{\int_a^b} f$

!!! info "הגדרה 10.7 (אינטגרביליות דרבו)"
    תהי $f : [a,b] \to \mathbb{R}$ חסומה. $f$ **אינטגרבילית רימן לפי דרבו** על $[a,b]$ כאשר
    $$\underline{\int_a^b} f(x)\,dx = \overline{\int_a^b} f(x)\,dx$$

    במקרה זה **אינטגרל רימן** של $f$ מוגדר להיות הערך המשותף: $\int_a^b f(x)\,dx$

---

### דוגמאות

!!! example "דוגמה: פונקציית דיריכלה אינה אינטגרבילית"
    הראו כי $D : [0,1] \to \mathbb{R}$ (1 ברציונליים, 0 באי-רציונליים) **אינה** אינטגרבילית.

    **פתרון:** לכל חלוקה $\Pi$ — מצפיפות הרציונליים והאי-רציונליים בכל תת-קטע מתקיים $\inf D = 0$, $\sup D = 1$. לכן $\underline{S}(D,\Pi) = 0$ ו-$\overline{S}(D,\Pi) = 1$. מכאן $\underline{\int_0^1} D = 0$ ו-$\overline{\int_0^1} D = 1$, ולכן $D$ אינה אינטגרבילית.

!!! example "דוגמה: $f(x)=x$ ב-$[0,1]$"
    הראו כי $f$ אינטגרבילית וחשבו $\int_0^1 f(x)\,dx$.

    **פתרון:** לכל $n \in \mathbb{N}_+$ נגדיר חלוקה $\Pi_n$ עם $x_i = \frac{i}{n}$. אז:
    $$\underline{S}(f,\Pi_n) = \frac{1}{n^2} \sum_{i=0}^{n-1} i = \frac{1}{2}\left(1 - \frac{1}{n}\right)$$
    $$\overline{S}(f,\Pi_n) = \frac{1}{n^2} \sum_{i=1}^{n} i = \frac{1}{2}\left(1 + \frac{1}{n}\right)$$

    מכאן $\underline{\int_0^1} f \ge \frac{1}{2}$ ו-$\overline{\int_0^1} f \le \frac{1}{2}$, ולכן $\int_0^1 f(x)\,dx = \frac{1}{2}$.

---

### קריטריוני אינטגרביליות

!!! success "טענה 10.8 (קריטריון דרבו)"
    תהי $f : [a,b] \to \mathbb{R}$ חסומה. $f$ אינטגרבילית אם ורק אם **לכל $\varepsilon > 0$** קיימת חלוקה $\Pi$ כך ש-$\overline{S}(f,\Pi) - \underline{S}(f,\Pi) < \varepsilon$.

!!! success "טענה 10.9 (פונקציה מונוטונית)"
    תהי $f : [a,b] \to \mathbb{R}$ חסומה. **אם $f$ מונוטונית** אז $f$ אינטגרבילית.

!!! success "טענה 10.10 (פונקציה רציפה)"
    תהי $f : [a,b] \to \mathbb{R}$ חסומה. **אם $f$ רציפה** אז $f$ אינטגרבילית.

!!! success "טענה 10.11 (מספר סופי של אי-רציפויות)"
    תהי $f : [a,b] \to \mathbb{R}$ חסומה. **אם ל-$f$ יש מספר סופי של נקודות אי-רציפות** אז $f$ אינטגרבילית.

---

## 10.2 אינטגרביליות לפי רימן

!!! info "הגדרה 10.12 (נקודות דגימה)"
    יהי $[a,b]$ קטע ו-$\Pi$ חלוקה. **קבוצת נקודות דגימה** עבור $\Pi$: $\xi = \{\xi_i\}_{i=0}^{n-1}$ כאשר $x_i \le \xi_i \le x_{i+1}$ לכל $i$.

!!! info "הגדרה 10.13 (סכום רימן)"
    תהי $f : [a,b] \to \mathbb{R}$, $\Pi$ חלוקה ו-$\xi$ קבוצת דגימה. **סכום רימן:**
    $$S(f,\Pi,\xi) = \sum_{i=0}^{n-1} f(\xi_i)(x_{i+1} - x_i)$$

!!! note "הערה 10.14"
    לכל $f$ חסומה, לכל $\Pi$ ו-$\xi$: $\underline{S}(f,\Pi) \le S(f,\Pi,\xi) \le \overline{S}(f,\Pi)$

!!! info "הגדרה 10.15 (אינטגרביליות רימן)"
    $f$ **אינטגרבילית רימן לפי רימן** אם קיים $I$ כך שלכל $\varepsilon > 0$ קיים $\delta > 0$ כך שלכל חלוקה $\Pi$ עם $\lambda(\Pi) < \delta$ ולכל דגימה $\xi$: $|S(f,\Pi,\xi) - I| < \varepsilon$.

!!! success "משפט 10.16 (שקילות)"
    $f$ אינטגרבילית לפי רימן $\iff$ $f$ חסומה ואינטגרבילית לפי דרבו.

---

## 10.3 תכונות האינטגרל

!!! success "טענה 10.17 (אדיטיביות)"
    לכל $a < c < b$: אם $f$ אינטגרבילית על $[a,c]$ ועל $[c,b]$ אז $f$ אינטגרבילית על $[a,b]$ ומתקיים
    $$\int_a^b f(x)\,dx = \int_a^c f(x)\,dx + \int_c^b f(x)\,dx$$

!!! success "טענה 10.18 (לינאריות)"
    תהיינה $f,g$ אינטגרביליות ו-$\alpha,\beta \in \mathbb{R}$. אז $\alpha f + \beta g$ אינטגרבילית ומתקיים
    $$\int_a^b (\alpha f + \beta g)(x)\,dx = \alpha \int_a^b f(x)\,dx + \beta \int_a^b g(x)\,dx$$

!!! success "טענה 10.19 (מונוטוניות)"
    אם $f(x) \ge g(x)$ לכל $x \in [a,b]$ אז $\int_a^b f \ge \int_a^b g$.

!!! success "טענה 10.20 (אי-שוויון המשולש)"
    אם $f$ אינטגרבילית אז $|f|$ אינטגרבילית ומתקיים:
    $$\left|\int_a^b f(x)\,dx\right| \le \int_a^b |f(x)|\,dx$$

!!! success "טענה 10.21 (חסם)"
    אם $|f(x)| \le M$ לכל $x \in [a,b]$ אז $\left|\int_a^b f(x)\,dx\right| \le M(b-a)$

---

## 10.4 תוצאות נוספות

!!! success "טענה 10.22 (מכפלת פונקציות)"
    אם $f, g$ אינטגרביליות אז $f \cdot g$ אינטגרבילית.

!!! success "טענה 10.23 (הרכבה עם רציפה)"
    אם $f : [a,b] \to [c,d]$ אינטגרבילית ו-$g : [c,d] \to \mathbb{R}$ רציפה, אז $g \circ f$ אינטגרבילית.

!!! example "פונקציית רימן"
    **הגדרה:** $R : [0,1] \to \mathbb{R}$ מוגדרת:
    $$R(x) = \begin{cases} \frac{1}{q} & x = \frac{p}{q} \text{ בצמצום}, p,q \in \mathbb{N}_+, \gcd(p,q)=1 \\ 0 & x \notin \mathbb{Q} \text{ או } x=0 \end{cases}$$

    **טענה:** $R$ אינטגרבילית ב-$[0,1]$ ו-$\int_0^1 R(x)\,dx = 0$.

    **רעיון:** לכל $\varepsilon > 0$ יש רק מספר סופי של נקודות עם $R(x) \ge \varepsilon$. מכסים אותן בקטעים קטנים.

---

## 10.5 שיטות אינטגרציה לאינטגרל מסוים

!!! success "טענה 10.24 (אינטגרציה בחלקים)"
    תהיינה $F, g : [a,b] \to \mathbb{R}$ פונקציות גזירות ב־$[a,b]$, ונגזרותיהן אינטגרביליות רימן ב־$[a,b]$. אז
    $$\int_a^b F'(x) g(x)\,dx = F(b)g(b) - F(a)g(a) - \int_a^b F(x) g'(x)\,dx$$

??? example "הוכחה (רעיון)"
    גוזרים את $F \cdot g$ ומשלבים.

---

!!! success "טענה 10.25 (שינוי משתנה - סוג 1)"
    תהיינה $f : [a,b] \to \mathbb{R}$ ו־$g : [c,d] \to [a,b]$. נניח כי $f$ בעלת קדומה ואינטגרבילית ב־$[a,b]$, ש־$g$ גזירה ב־$[c,d]$ וש־$(f \circ g) \cdot g'$ אינטגרבילית על $[c,d]$. אז
    $$\int_c^d (f \circ g)(x) g'(x)\,dx = \int_{g(c)}^{g(d)} f(x)\,dx$$

---

!!! success "טענה 10.26 (שינוי משתנה - סוג 2)"
    תהיינה $f : [a,b] \to \mathbb{R}$ ו־$g : [c,d] \to [a,b]$ כך ש־$f$ אינטגרבילית, $g$ גזירה והפיכה ו־$g'$ רציפה. אז $(f \circ g) \cdot g'$ אינטגרבילית ומתקיים
    $$\int_a^b f(x)\,dx = \int_{g^{-1}(a)}^{g^{-1}(b)} (f \circ g)(x) g'(x)\,dx$$

!!! note "הערה 10.27"
    מתקיים גם $\int_{g^{-1}(a)}^{g^{-1}(b)} f(g(x)) |g'(x)|\,dx = \int_a^b f(x)\,dx$ (תלוי בסדר הגבולות).

---

## 10.6 משפט ערך הביניים לאינטגרלים

!!! success "טענה 10.28 (משפט ערך הביניים לאינטגרלים)"
    תהי $f : [a,b] \to \mathbb{R}$ אינטגרבילית. אז **קיים $\mu \in [\inf f, \sup f]$** כך ש־$\int_a^b f(x)\,dx = \mu(b-a)$.

    **יתר על כן:** אם $f$ **רציפה** אז **קיים $c \in [a,b]$** כך ש־$\int_a^b f(x)\,dx = f(c)(b-a)$.

!!! success "טענה 10.29 (גרסה ממושקלת)"
    תהיינה $f, g : [a,b] \to \mathbb{R}$ אינטגרביליות. נניח כי **$g \ge 0$**. אז **קיים $\mu \in [\inf f, \sup f]$** כך ש־
    $$\int_a^b f(x) g(x)\,dx = \mu \int_a^b g(x)\,dx$$

    **יתר על כן:** אם **$f$ רציפה** אז **קיים $c \in [a,b]$** כך ש־$\int_a^b f(x) g(x)\,dx = f(c) \int_a^b g(x)\,dx$.

---

## דוגמאות

!!! example "דוגמה: $\int_0^1 \sqrt{1-x^2}\,dx$"
    זהו שטח רבע מעגל היחידה! נחשב עם שינוי משתנה $x = \sin t$:

    נגדיר $g(t) = \sin t$ על $[0,\frac{\pi}{2}]$. אז $g(0) = 0$, $g(\frac{\pi}{2}) = 1$, ו־$g'(t) = \cos t$.

    $$\int_0^1 \sqrt{1-x^2}\,dx = \int_0^{\pi/2} \sqrt{1-\sin^2 t} \cdot \cos t\,dt = \int_0^{\pi/2} \cos^2 t\,dt$$
    $$= \int_0^{\pi/2} \frac{1+\cos(2t)}{2}\,dt = \frac{1}{2}\Big[t + \frac{\sin(2t)}{2}\Big]_0^{\pi/2} = \frac{\pi}{4}$$

!!! warning "דוגמה: טעות נפוצה בשינוי משתנה"
    בניסיון לחשב $\int_{-1}^1 \frac{1}{1+x^2}\,dx$ עם $g(x) = \frac{1}{x}$:

    **הבעיה:** הפונקציה $g(x) = \frac{1}{x}$ אינה מוגדרת ב־$0 \in [-1,1]$! יתרה מכך, $g([-1,0)) = (-\infty,-1]$ ו־$g((0,1]) = [1,+\infty)$, כך שהתחום והטווח אינם תואמים.

    **הפתרון הנכון:** חשבו ישירות:
    $$\int_{-1}^1 \frac{1}{1+x^2}\,dx = [\arctan x]_{-1}^1 = \frac{\pi}{4} - (-\frac{\pi}{4}) = \frac{\pi}{2}$$

!!! example "דוגמה: $\int_0^1 x e^x\,dx$"
    נגדיר $F(x) = e^x$, $g(x) = x$. אז $F'(x) = e^x$, $g'(x) = 1$.
    $$\int_0^1 x e^x\,dx = [x e^x]_0^1 - \int_0^1 e^x\,dx = e - [e^x]_0^1 = e - (e-1) = 1$$

!!! example "דוגמה: $\int_0^{\pi} x \sin x\,dx$"
    נגדיר $F(x) = -\cos x$, $g(x) = x$. אז $F'(x) = \sin x$, $g'(x) = 1$.
    $$\int_0^{\pi} x \sin x\,dx = [-x\cos x]_0^{\pi} - \int_0^{\pi} (-\cos x)\,dx = \pi + [\sin x]_0^{\pi} = \pi$$

---

## תרגילים

!!! question "תרגיל 1"
    הראו כי $f(x)=x^2$ ב-$[0,1]$ אינטגרבילית וחשבו את האינטגרל.

??? success "פתרון"
    לחלוקה שווה $\Pi_n$ עם $x_i = \frac{i}{n}$:
    $$\underline{S}(f,\Pi_n) = \frac{1}{n^3}\sum_{i=0}^{n-1} i^2 = \frac{(n-1)n(2n-1)}{6n^3} \xrightarrow{n\to\infty} \frac{1}{3}$$
    $$\overline{S}(f,\Pi_n) = \frac{1}{n^3}\sum_{i=1}^{n} i^2 = \frac{n(n+1)(2n+1)}{6n^3} \xrightarrow{n\to\infty} \frac{1}{3}$$

    לכן $\int_0^1 x^2\,dx = \frac{1}{3}$.

!!! question "תרגיל 2"
    תהיינה $f,g$ אינטגרביליות עם $f \ge g$ ו-$f(x_0) > g(x_0)$ בנקודה אחת. האם בהכרח $\int_a^b f > \int_a^b g$?

??? success "פתרון"
    **לא בהכרח!** אם $f(x_0) > g(x_0)$ רק בנקודה בודדת, האינטגרל לא משתנה.

    **אבל אם $f$ רציפה** ב-$x_0$, אז קיימת סביבה שבה $f > g$, ואז $\int_a^b f > \int_a^b g$.

!!! question "תרגיל 3"
    תהי $f : [-a,a] \to \mathbb{R}$ אינטגרבילית. הוכיחו:

    - אם $f$ זוגית: $\int_{-a}^a f = 2\int_0^a f$
    - אם $f$ אי-זוגית: $\int_{-a}^a f = 0$

??? success "פתרון"
    מאדיטיביות: $\int_{-a}^a f = \int_{-a}^0 f + \int_0^a f$

    בהחלפת משתנים $u = -x$ באינטגרל הראשון:
    $$\int_{-a}^0 f(x)\,dx = -\int_a^0 f(-u)\,du = \int_0^a f(-u)\,du$$

    **אם $f$ זוגית:** $f(-u) = f(u)$, לכן $\int_{-a}^0 f = \int_0^a f$, ומכאן $\int_{-a}^a f = 2\int_0^a f$.

    **אם $f$ אי-זוגית:** $f(-u) = -f(u)$, לכן $\int_{-a}^0 f = -\int_0^a f$, ומכאן $\int_{-a}^a f = 0$.

!!! question "תרגיל 4"
    הוכיחו כי $\max(f,g)$ ו-$\min(f,g)$ אינטגרביליות אם $f,g$ אינטגרביליות.

??? success "פתרון"
    משתמשים בזהויות:
    $$\max(f,g) = \frac{1}{2}(f+g+|f-g|)$$
    $$\min(f,g) = \frac{1}{2}(f+g-|f-g|)$$

    מכיוון ש-$f,g$ אינטגרביליות, גם $f-g$ אינטגרבילית, וגם $|f-g|$ אינטגרבילית (לפי טענה 10.20).

    לכן גם $\max(f,g)$ ו-$\min(f,g)$ אינטגרביליות (כצירוף לינארי של פונקציות אינטגרביליות).

!!! question "תרגיל 5"
    הוכיחו כי $\frac{2}{3\pi} \le \int_{2\pi}^{3\pi} \frac{\sin x}{x}\,dx \le \frac{1}{\pi}$.

??? success "פתרון"
    נגדיר $f(x) = \frac{1}{x}$, $g(x) = \sin x$ על $[2\pi, 3\pi]$. $f,g$ אלמנטריות ואינטגרביליות; $g \ge 0$.

    לפי טענה 10.29 קיים $c \in [2\pi, 3\pi]$ כך ש־$\int_{2\pi}^{3\pi} \frac{\sin x}{x}\,dx = \frac{1}{c} \int_{2\pi}^{3\pi} \sin x\,dx = \frac{2}{c}$.

    מתקיים $\int_{2\pi}^{3\pi} \sin x\,dx = [-\cos x]_{2\pi}^{3\pi} = -(-1) - (-1) = 2$.

    כיוון ש־$c \in [2\pi, 3\pi]$, מתקיים $\frac{1}{3\pi} \le \frac{1}{c} \le \frac{1}{2\pi}$, ומכאן $\frac{2}{3\pi} \le \int_{2\pi}^{3\pi} \frac{\sin x}{x}\,dx \le \frac{2}{2\pi} = \frac{1}{\pi}$.

!!! question "תרגיל 6"
    הוכיחו את נוסחת הרדוקציה: $\int_0^{\pi/2} \sin^n x\,dx = \frac{n-1}{n} \int_0^{\pi/2} \sin^{n-2} x\,dx$.
